---
layout: post
title: linux之进程管理
description: linux进程管理命令
tag: linux
---

#### 1.进程类型

- 进程含义：创建一个新进程，需要从父进程中复制自己的地址空间，每个新进程都会有一个唯一标识PID，跟踪信息通过ID父进程。
- 第一个进程：所有进程都是第一个进程的后代，centos5和6，初始进程为init;centos7为systemd
- 进程类型
  - 僵尸进程：一个进程如果使用fork创建子进程，当父进程退出，而没有使用wait或waitpid来获取子进程的信息，此时该子进程就成为了僵尸进程
  - 守护进程：在linux启动时启动的进程，并在后台允许
  - 超级守护进程：系统启动时由一个统一的守护进程xinet来负责管理一些进程，当相应请求到来时需要通过xinet的转接才可以唤醒被xinet管理的进程。

#### 2.PS-基本命令

```
ps -a 查看与当前终端有有关联的进程
ps -u 用户名 查看某个用户的所有进程
ps -x 查看说有进程
```

#### 3.参数详解

```
USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
```

- USER: 启动进程的用户
- PID：进程号
- %cpu：进程占用的百分比
- %MEN：占用内存的百分比
- VSZ：进程占用的虚拟内存大小（单位：KB）
- RSS：进程占用的物理内存大小（单位：KB）
- STAT：进程状态
  - R：表示当前进程正在运行，或者可被运行
  - S：表示该进程在睡眠中，可以被某些信号唤醒
  - T：表示该进程停止了
  - Z：僵尸进程
  - D：不可中断状态
  - +其他字母含义
    - <：表示进程运行在高优先级上
    - N：表示进程运行在低优先级上
    - L：表示进程有页面锁定在内存中
    - s：表示进程为控制进程
    - l：表示进程为多线程的
    - +：表示该进程运行在前台

- START：该进程启动的时间
- TIME：该进程运行的时间
- COMMAND：实际命令

#### 4.uptime-查看系统负载

```
uptime
10:30:31 up 392 days,  1:44,  2 users,  load average: 0.27, 0.26, 0.24
当前时间，运行得时间，用户，平均负载1分钟，5分钟，15分钟
如果为1核得CPU,load average为3，证明被机器充分利用了
```

#### 5.top

查看机器得一些信息，和展示耗CPU较高得一些进程

#### 6.查看某个进程

ps -ef|grep 进程名   根据进程名模糊匹配，可以查看进程ID

kill 进程ID，杀掉一个进程

#### 7.通过进程ID查看对应端口

```
netstat -nap | grep 进程号
```

#### 8.通过端口查看进程信息

```
netstat -tunlp | grep 端口号
```

#### 9.查看CPU核数

```
cat /proc/cpuinfo | grep "cores"|uniq
```

